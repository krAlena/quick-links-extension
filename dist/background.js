chrome.runtime.onMessage.addListener(((e,r,t)=>{if("injectScript"===e.action)return console.log("inject script"),chrome.scripting.executeScript({target:{tabId:e.tabId},files:["contentScript.js"]},(()=>{console.log("Content script injected via message"),t({status:"injected"})})),!0;if("getRecentBookmarks"===e.action)return chrome.bookmarks.getRecent(10,(e=>{chrome.runtime.lastError?t({error:chrome.runtime.lastError.message}):t({bookmarks:e})})),!0;if("getHistoryLinks"===e.action){let e={text:"",startTime:0,maxResults:10};return chrome.history.search(e,(function(e){chrome.runtime.lastError?t({error:chrome.runtime.lastError.message}):t({links:e})})),!0}}));